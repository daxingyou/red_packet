function showDialog(){var dialog=document.getElementById("joinDialog");addClass(dialog,"in");dialog.style.display="block";clearAlertInfo();var nameInput=document.getElementById("name");nameInput.focus()}function displayDialog(){var dialog=document.getElementById("joinDialog");removeClass(dialog,"in");dialog.style.display="none"}function hasClass(obj,cls){return obj.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))}function addClass(obj,cls){if(!this.hasClass(obj,cls)){obj.className+=" "+cls}}function removeClass(obj,cls){if(hasClass(obj,cls)){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");obj.className=obj.className.replace(reg," ")}}function clearAlertInfo(){document.getElementById("name-alert").style.display="none";document.getElementById("telphone-alert").style.display="none";document.getElementById("wxid-alert").style.display="none"}function submitForm(){var nameInput=document.getElementById("name");var telphone=document.getElementById("telphone");var wxid=document.getElementById("wxid");clearAlertInfo();if(nameInput.value.length==0){document.getElementById("name-alert").style.display="block";nameInput.focus();return}if(telphone.value.length==0){document.getElementById("telphone-alert").style.display="block";telphone.focus();return}if(wxid.value.length==0){document.getElementById("wxid-alert").style.display="block";wxid.focus();return}ajax({url:"./agentpro/apply",type:"POST",data:{name:nameInput.value,telphone:telphone.value,wxid:wxid.value},dataType:"json",success:function(response,xml){alert("谢谢加入，稍微我们会与您联系！ \n你可先下载来一圈棋牌游戏体验！");displayDialog()},fail:function(status){alert("谢谢加入，稍微我们会与您联系！ \n你可先下载来一圈棋牌游戏体验！");displayDialog()}})}function ajax(options){options=options||{};options.type=(options.type||"GET").toUpperCase();options.dataType=options.dataType||"json";var params=formatParams(options.data);if(window.XMLHttpRequest){var xhr=new XMLHttpRequest()}else{var xhr=new ActiveXObject("Microsoft.XMLHTTP")}xhr.onreadystatechange=function(){if(xhr.readyState==4){var status=xhr.status;if(status>=200&&status<300){options.success&&options.success(xhr.responseText,xhr.responseXML)}else{options.fail&&options.fail(status)}}};if(options.type=="GET"){xhr.open("GET",options.url+"?"+params,true);xhr.send(null)}else{if(options.type=="POST"){xhr.open("POST",options.url,true);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(params)}}}function formatParams(data){var arr=[];for(var name in data){arr.push(encodeURIComponent(name)+"="+encodeURIComponent(data[name]))}arr.push(("v="+Math.random()).replace(".",""));return arr.join("&")};