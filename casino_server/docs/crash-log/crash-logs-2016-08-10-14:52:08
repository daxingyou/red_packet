---2016/08/10 14:52:08 闪退服务器日志:2016/08/10 14:51:56 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:51:57 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:51:58 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:51:59 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:52:00 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:52:01 [thRoom.go:471][TRACE] 玩家[10112]nickname[Luna]出牌中还没有超时2016/08/10 14:52:02 [debug  ] [tcp_msg.go:96]	解析之后,得到的内容的长度msgLen: 92016/08/10 14:52:02 [debug  ] [tcp_msg.go:111]	解析之后,得到的数据: [0 43 10 0 16 151 78 24 1]2016/08/10 14:52:02 [ogRoom.go:50][TRACE] 用户seatId[1]开始操作betType[3]2016/08/10 14:52:02 [ogRoom.go:140][TRACE] 用户[10112]开始弃牌2016/08/10 14:52:02 [thRoom.go:1528][TRACE] 当前押注的人是userId[10112]2016/08/10 14:52:02 [thRoom.go:1534][TRACE] 设置betUserNow 为[10106]2016/08/10 14:52:02 [thRoom.go:1540][TRACE] 判断是否是下一轮,计算出来的t.BetUserNow[10106],t.BetUserRaiseUserId[10112]2016/08/10 14:52:02 [thRoom.go:595][TRACE] 当前desk[10007]的信息:-----------------------------------begin----------------------------------2016/08/10 14:52:02 [thRoom.go:596][TRACE] 当前desk[10007]的信息的状态status[2]2016/08/10 14:52:02 [thRoom.go:600][TRACE] 当前desk[10007]的user[10106]的状态status[3],牌的信息[[mapKey:43 mapdes:"POKER_spade_5_5" value:5 flower:"spade" name:"5"  mapKey:45 mapdes:"POKER_spade_7_7" value:7 flower:"spade" name:"7" ]]2016/08/10 14:52:02 [debug  ] [tcp_msg.go:156]	msg.write data[20]: [0 20 0 44 16 151 78 24 1 32 0 40 222 7 48 10 56 30 64 20 72 0]2016/08/10 14:52:02 [debug  ] [tcp_msg.go:156]	msg.write data[20]: [0 20 0 44 16 151 78 24 1 32 0 40 222 7 48 10 56 30 64 20 72 0]2016/08/10 14:52:02 [thRoom.go:600][TRACE] 当前desk[10007]的user[10112]的状态status[5],牌的信息[[mapKey:22 mapdes:"POKER_club_10_10" value:10 flower:"club" name:"10"  mapKey:48 mapdes:"POKER_spade_10_10" value:10 flower:"spade" name:"10" ]]2016/08/10 14:52:02 [thRoom.go:603][TRACE] 当前desk[10007]的信息的状态,总人数SeatedCount[2],在线人数[2]2016/08/10 14:52:02 [thRoom.go:604][TRACE] 当前desk[10007]的信息的状态,小盲注[10112]2016/08/10 14:52:02 [thRoom.go:605][TRACE] 当前desk[10007]的信息的状态,大盲注[10106]2016/08/10 14:52:02 [thRoom.go:606][TRACE] 当前desk[10007]的信息的状态,压注人[10106]2016/08/10 14:52:02 [thRoom.go:607][TRACE] 当前desk[10007]的信息的状态,压注轮次[1]2016/08/10 14:52:02 [thRoom.go:608][TRACE] 当前desk[10007]的信息的状态,NewRoundBetUser[10106]2016/08/10 14:52:02 [thRoom.go:609][TRACE] 当前desk[10007]的信息的状态,总共押注Jackpot[30]2016/08/10 14:52:02 [thRoom.go:610][TRACE] 当前desk[10007]的信息的状态,边池bianJackpot[30]2016/08/10 14:52:02 [thRoom.go:611][TRACE] 当前desk[10007]的信息的状态,当前加注的人BetUserRaiseUserId[10112]2016/08/10 14:52:02 [thRoom.go:613][TRACE] 当前desk[10007]的信息:-----------------------------------end----------------------------------2016/08/10 14:52:02 [ogRoom.go:154][TRACE] 返回用户[10112]弃牌的结果:2016/08/10 14:52:02 [thRoom.go:1038][TRACE] 判断是否应该开奖,打印每个人的信息://1,刚上桌子,2,坐下,3押注中,4,allin,5,弃牌,6,等待结算,7,已经结算,8,离线,9断线2016/08/10 14:52:02 [thRoom.go:1042][TRACE] [0]判断是否应该开奖,打印user[10106]的状态[3]:2016/08/10 14:52:02 [thRoom.go:1042][TRACE] [1]判断是否应该开奖,打印user[10112]的状态[5]:2016/08/10 14:52:02 [thRoom.go:1053][TRACE] 当前处于押注中的人数是[1]2016/08/10 14:52:02 [thRoom.go:1056][TRACE] 现在处于押注中(beting)状态的人,只剩下一个了,所以直接开奖2016/08/10 14:52:02 [thRoom.go:813][NORMAL] 开始广播proto消息【Tableid:10007 Seat:1 NextSeat:0 Coin:990 HandCoin:10 pool:30 MinRaise:20 CanRaise:0 】2016/08/10 14:52:02 [thRoom.go:1615][TRACE] 判断是否是新的一轮t.BetUserRaiseUserId[10112],t.BetUserNow(10106),t.status[2].//status:1,stop,2,start,3,lottery2016/08/10 14:52:02 [thRoom.go:1038][TRACE] 判断是否应该开奖,打印每个人的信息://1,刚上桌子,2,坐下,3押注中,4,allin,5,弃牌,6,等待结算,7,已经结算,8,离线,9断线2016/08/10 14:52:02 [thRoom.go:1042][TRACE] [0]判断是否应该开奖,打印user[10106]的状态[3]:2016/08/10 14:52:02 [thRoom.go:1042][TRACE] [1]判断是否应该开奖,打印user[10112]的状态[5]:2016/08/10 14:52:02 [thRoom.go:1053][TRACE] 当前处于押注中的人数是[1]2016/08/10 14:52:02 [thRoom.go:1056][TRACE] 现在处于押注中(beting)状态的人,只剩下一个了,所以直接开奖2016/08/10 14:52:02 [ogRoom.go:84][TRACE] 现在可以开奖了:2016/08/10 14:52:02 [thRoom.go:1190][TRACE] 现在开始开奖,并且发放奖励....2016/08/10 14:52:02 [thRoom.go:1673][TRACE] 开始计算allin将近池子begin2016/08/10 14:52:02 [thRoom.go:1718][TRACE] 计算出来的allIn:【[]】2016/08/10 14:52:02 [thRoom.go:1719][TRACE] 开始计算allin将近池子end2016/08/10 14:52:02 [thRoom.go:1239][TRACE] 现在开始开奖,计算边池的奖励....2016/08/10 14:52:02 [thRoom.go:1075][TRACE] 开始计算谁的牌是赢牌:2016/08/10 14:52:02 [thRoom.go:1077][TRACE] 打印每个人牌的信息:2016/08/10 14:52:02 [thRoom.go:1081][TRACE] 玩家[10106]2016/08/10 14:52:02 [thRoom.go:1082][TRACE] 牌的信息:牌类型[3],2016/08/10 14:52:02 [thRoom.go:1083][TRACE] 所有牌[[mapKey:39 mapdes:"POKER_spade_14_A" value:14 flower:"spade" name:"A"  mapKey:45 mapdes:"POKER_spade_7_7" value:7 flower:"spade" name:"7"  mapKey:19 mapdes:"POKER_club_7_7" value:7 flower:"club" name:"7"  mapKey:43 mapdes:"POKER_spade_5_5" value:5 flower:"spade" name:"5"  mapKey:4 mapdes:"POKER_diamond_5_5" value:5 flower:"diamond" name:"5" ]]2016/08/10 14:52:02 [thRoom.go:1118][TRACE] 得到的牌最大的user[10106]的信息[&{{0 0} 10106 0 0xc8219fea50 6 0 [mapKey:43 mapdes:"POKER_spade_5_5" value:5 flower:"spade" name:"5"  mapKey:45 mapdes:"POKER_spade_7_7" value:7 flower:"spade" name:"7" ] 0xc821a049a0 {0 0 <nil>}  10007 20 0 [] 20 20 980 Renee}]2016/08/10 14:52:02 [thRoom.go:1132][TRACE] 开始计算谁的牌是赢牌,计算出来的结果:2016/08/10 14:52:02 [thRoom.go:1136][TRACE] user[10106]的牌 isWin[true]2016/08/10 14:52:02 [thRoom.go:1355][TRACE] 本局总共有[1]人是赢牌,2016/08/10 14:52:02 [thRoom.go:1242][TRACE] 获奖的人数:[1]2016/08/10 14:52:02 [thRoom.go:1252][TRACE] 现在开始开奖,计算边池的奖励,user[10106]得到[30]....2016/08/10 14:52:02 [thRoom.go:621][TRACE] 用户[10106]的wincoin[30],detail[[30]]2016/08/10 14:52:02 [thRoom.go:621][TRACE] 用户[10112]的wincoin[0],detail[[]]2016/08/10 14:52:02 thRoom.go:429][ERROR] user[10112]已经超时,结束等待任务2016/08/10 14:52:02 [thRoom.go:453][TRACE] 用户[10112]的waitUUID==空,不用超时2016/08/10 14:52:02 thRoom.go:429][ERROR] user[10112]已经超时,结束等待任务2016/08/10 14:52:03 [userService.go:238][TRACE] 把user[&{ObjectIdHex("57a986c01ba69d1599512731") 10106  Renee       12215 0 0    [] 0001-01-01 00:00:00 +0000 UTC 0}]保存到数据库]2016/08/10 14:52:03 [userService.go:238][TRACE] 把user[&{ObjectIdHex("57aa8dc01ba69d04073683b4") 10112  Luna       5007 0 0    [] 0001-01-01 00:00:00 +0000 UTC 0}]保存到数据库]2016/08/10 14:52:03 [debug  ] [tcp_msg.go:156]	msg.write data[61]: [0 61 0 51 16 151 78 26 4 8 3 16 4 26 4 8 3 16 6 26 4 8 1 16 9 26 4 8 3 16 9 32 1 32 1 40 1 40 1 50 18 8 0 16 0 24 30 32 45 40 19 48 43 56 4 64 39 72 2 56 20 56 10]2016/08/10 14:52:03 [debug  ] [tcp_msg.go:156]	msg.write data[61]: [0 61 0 51 16 151 78 26 4 8 3 16 4 26 4 8 3 16 6 26 4 8 1 16 9 26 4 8 3 16 9 32 1 32 1 40 1 40 1 50 18 8 0 16 0 24 30 32 45 40 19 48 43 56 4 64 39 72 2 56 20 56 10]2016/08/10 14:52:03 [ogRoom.go:400][TRACE] 开始给玩家[10106]解析手牌2016/08/10 14:52:03 [ogRoom.go:400][TRACE] 开始给玩家[10112]解析手牌2016/08/10 14:52:03 [ogRoom.go:493][TRACE] og 排序之前[0]----[14]:2016/08/10 14:52:03 [ogRoom.go:493][TRACE] og 排序之前[1]----[7]:2016/08/10 14:52:03 [ogRoom.go:493][TRACE] og 排序之前[2]----[7]:2016/08/10 14:52:03 [ogRoom.go:493][TRACE] og 排序之前[3]----[5]:2016/08/10 14:52:03 [ogRoom.go:493][TRACE] og 排序之前[4]----[5]:2016/08/10 14:52:03 [ogRoom.go:609][TRACE] og 排序之后[0]----[7]:2016/08/10 14:52:03 [ogRoom.go:609][TRACE] og 排序之后[1]----[7]:2016/08/10 14:52:03 [ogRoom.go:609][TRACE] og 排序之后[2]----[5]:2016/08/10 14:52:03 [ogRoom.go:609][TRACE] og 排序之后[3]----[5]:2016/08/10 14:52:03 [ogRoom.go:609][TRACE] og 排序之后[4]----[14]:2016/08/10 14:52:03 [thRoom.go:813][NORMAL] 开始广播proto消息【Tableid:10007 handcard:<color:3 value:4 > handcard:<color:3 value:6 > handcard:<color:1 value:9 > handcard:<color:3 value:9 > bShowCard:1 bShowCard:1 bCanShowCard:1 bCanShowCard:1 WinCoinInfo:<Seat:0 poolIndex:0 coin:30 card1:45 card2:19 card3:43 card4:4 card5:39 cardtype:2 > HandCoin:20 HandCoin:10 】2016/08/10 14:52:03 [thRoom.go:1287][TRACE] 开奖结束,设置desk的状态为stop2016/08/10 14:52:05 [debug  ] [gate.go:97]	read message: EOF2016/08/10 14:52:05 [debug  ] [gate.go:97]	read message: EOF2016/08/10 14:52:06 [debug  ] [gate.go:97]	read message: EOF2016/08/10 14:52:06 [debug  ] [gate.go:97]	read message: EOF2016/08/10 14:52:08 [chanrpc.go:25][NORMAL] 调用了.....game.chanrpc.rpcCloseAgent2016/08/10 14:52:08 [chanrpc.go:34][TRACE] 通过agent[&{0xc820075b30 0xc82014a620 <nil>}]取出来的userData 是nil2016/08/10 14:52:08 [chanrpc.go:25][NORMAL] 调用了.....game.chanrpc.rpcCloseAgent2016/08/10 14:52:08 [chanrpc.go:38][TRACE] 用户[10106]现在掉线了,现在设置用户为掉线的状态2016/08/10 14:52:08 [chanrpc.go:25][NORMAL] 调用了.....game.chanrpc.rpcCloseAgent2016/08/10 14:52:08 [chanrpc.go:38][TRACE] 用户[10112]现在掉线了,现在设置用户为掉线的状态2016/08/10 14:52:08 [chanrpc.go:25][NORMAL] 调用了.....game.chanrpc.rpcCloseAgent2016/08/10 14:52:08 [chanrpc.go:34][TRACE] 通过agent[&{0xc821376420 0xc82014a620 <nil>}]取出来的userData 是nil2016/08/10 14:52:08 [thRoom.go:1781][TRACE]开始一局新的游戏2016/08/10 14:52:08 [thRoom.go:1750][TRACE] 判断是否可以开始一局新的游戏2016/08/10 14:52:08 [thRoom.go:1758][TRACE] 当前玩家的状态://1,等待开始,2,游戏中,3,押注中,4,allin,5,弃牌,6,等待结算,7,已经结算,8,裂开,9,掉线2016/08/10 14:52:08 [thRoom.go:1762][TRACE] 用户[10106].seat[0]的状态是[7]2016/08/10 14:52:08 [thRoom.go:1762][TRACE] 用户[10112].seat[1]的状态是[7]2016/08/10 14:52:08 [thRoom.go:1766][TRACE] 当前在线玩家的数量是[0],当前desk的状态是[1],1未开始,2游戏中,3,开奖中2016/08/10 14:52:08 [thRoom.go:1771][TRACE] 游戏还不到开始的时候